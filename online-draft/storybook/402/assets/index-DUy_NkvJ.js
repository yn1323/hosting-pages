import{r as m,j as o}from"./iframe-CPNykFu4.js";import{o as f,s as g,u as B,a as _}from"./zod-CJOOa1KA.js";import{I as N}from"./index-BGCE8b3C.js";import{R as D}from"./responsive-modal-DETIp2Db.js";import{n as b}from"./index-DFT-raW7.js";import{V as d}from"./v-stack-ZFthQQXO.js";import{T as s}from"./index-DeSftEHM.js";f({roomName:g().trim().min(1,"ルーム名を入力してください").max(30,"ルーム名は30文字以内で入力してください")});const p=({isOpen:r,onClose:a,onCreateRoom:t})=>{const e=b("top"),n=m.useId(),R=m.useMemo(()=>f({roomName:g().trim().min(1,e("createRoomModal.validation.required")).max(30,e("createRoomModal.validation.maxLength"))}),[e]),{register:h,handleSubmit:M,formState:{errors:u,isValid:x,isSubmitting:i},reset:l}=B({resolver:_(R),mode:"onChange"}),F=async E=>{try{await t(E.roomName),l(),a()}catch(y){console.error("ルーム作成エラー:",y)}},c=()=>{i||(l(),a())};return o.jsx(D,{isOpen:r,onClose:c,title:e("createRoomModal.title"),actions:{cancel:{text:e("createRoomModal.cancel"),onClick:c},submit:{text:e("createRoomModal.submit"),colorPalette:"blue",type:"submit",form:n,disabled:!x,loading:i}},children:o.jsxs(d,{as:"form",id:n,onSubmit:M(F),gap:4,align:"stretch",w:"full",children:[o.jsxs(d,{gap:2,align:"stretch",children:[o.jsx(s,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:e("createRoomModal.roomNameLabel")}),o.jsx(N,{...h("roomName"),placeholder:e("createRoomModal.roomNamePlaceholder"),size:"lg",maxLength:30,error:!!u.roomName}),u.roomName&&o.jsx(s,{fontSize:"sm",color:"red.500",children:u.roomName.message})]}),o.jsx(s,{fontSize:"sm",color:"gray.600",textAlign:"center",children:e("createRoomModal.description")})]})})},C=()=>{const[r,a]=m.useState(!1),t=()=>a(!0),e=()=>a(!1);return{isOpen:r,openModal:t,closeModal:e,modalProps:{isOpen:r,onClose:e}}};try{p.displayName="CreateRoomModal",p.__docgenInfo={description:`ルーム作成モーダルコンポーネント
react-hook-form + zodでバリデーション、ResponsiveModalでレスポンシブ対応`,displayName:"CreateRoomModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onCreateRoom:{defaultValue:null,description:"",name:"onCreateRoom",required:!0,type:{name:"(roomName: string) => Promise<void>"}}}}}catch{}try{C.displayName="useCreateRoomModal",C.__docgenInfo={description:`CreateRoomModal用カスタムフック
モーダルの状態管理を内部で行い、親コンポーネントの負担を軽減`,displayName:"useCreateRoomModal",props:{}}}catch{}export{p as C,C as u};
