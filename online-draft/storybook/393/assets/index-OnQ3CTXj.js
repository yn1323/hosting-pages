import{r as p,j as e}from"./iframe-esjyWdrP.js";import{u as x,a as y,o as B,s as _}from"./zod-ctz8fUaX.js";import{I as R}from"./index-B-oLirYx.js";import{R as D}from"./responsive-modal-DiW0jmqK.js";import{V as l}from"./v-stack-nqXe-XpQ.js";import{T as s}from"./index-P2yQRGn6.js";const M=B({roomName:_().trim().min(1,"ルーム名を入力してください").max(30,"ルーム名は30文字以内で入力してください")}),c=({isOpen:o,onClose:r,onCreateRoom:t})=>{const u=p.useId(),{register:C,handleSubmit:f,formState:{errors:a,isValid:g,isSubmitting:n},reset:m}=x({resolver:y(M),mode:"onChange"}),h=async F=>{try{await t(F.roomName),m(),r()}catch(E){console.error("ルーム作成エラー:",E)}},i=()=>{n||(m(),r())};return e.jsx(D,{isOpen:o,onClose:i,title:"新しいルームを作成",actions:{cancel:{text:"キャンセル",onClick:i},submit:{text:"ルームを作成",colorPalette:"blue",type:"submit",form:u,disabled:!g,loading:n}},children:e.jsxs(l,{as:"form",id:u,onSubmit:f(h),gap:4,align:"stretch",w:"full",children:[e.jsxs(l,{gap:2,align:"stretch",children:[e.jsx(s,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:"ルーム名"}),e.jsx(R,{...C("roomName"),placeholder:"例: 2024年プロ野球ドラフト",size:"lg",maxLength:30,error:!!a.roomName}),a.roomName&&e.jsx(s,{fontSize:"sm",color:"red.500",children:a.roomName.message})]}),e.jsx(s,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"URLを共有して友達を招待しよう！"})]})})},d=()=>{const[o,r]=p.useState(!1),t=()=>r(!0),u=()=>r(!1);return{isOpen:o,openModal:t,closeModal:u,modalProps:{isOpen:o,onClose:u}}};try{c.displayName="CreateRoomModal",c.__docgenInfo={description:`ルーム作成モーダルコンポーネント
react-hook-form + zodでバリデーション、ResponsiveModalでレスポンシブ対応`,displayName:"CreateRoomModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onCreateRoom:{defaultValue:null,description:"",name:"onCreateRoom",required:!0,type:{name:"(roomName: string) => Promise<void>"}}}}}catch{}try{d.displayName="useCreateRoomModal",d.__docgenInfo={description:`CreateRoomModal用カスタムフック
モーダルの状態管理を内部で行い、親コンポーネントの負担を軽減`,displayName:"useCreateRoomModal",props:{}}}catch{}export{c as C,d as u};
